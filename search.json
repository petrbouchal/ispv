[{"path":"http://petrbouchal.xyz/ispv/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 ispv authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://petrbouchal.xyz/ispv/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Petr Bouchal. Author, maintainer.","code":""},{"path":"http://petrbouchal.xyz/ispv/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bouchal P (2022). ispv: Use Czech labour market survey data. https://github.com/petrbouchal/ispv, http://petrbouchal.xyz/ispv/.","code":"@Manual{,   title = {ispv: Use Czech labour market survey data},   author = {Petr Bouchal},   year = {2022},   note = {https://github.com/petrbouchal/ispv, http://petrbouchal.xyz/ispv/}, }"},{"path":"http://petrbouchal.xyz/ispv/index.html","id":"ispv","dir":"","previous_headings":"","what":"An R package for reading Czech labour market data from https://ispv.cz","title":"An R package for reading Czech labour market data from https://ispv.cz","text":"goal ispv retrieve load data Czech database average earnings (ISPV, Informační systém o průměrném výdělku).","code":""},{"path":"http://petrbouchal.xyz/ispv/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An R package for reading Czech labour market data from https://ispv.cz","text":"can install development version ispv like :","code":"remotes::install_github(\"petrbouchal/ispv\")"},{"path":"http://petrbouchal.xyz/ispv/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"An R package for reading Czech labour market data from https://ispv.cz","text":"package two things, either national regional data: retrieve links Excel files ISPV site given year read data return clean tibble ready analysis example regional data: long format data frame, easy analyse visualise:","code":"library(ispv)  links <- pv_list_reg(2020)  paths <- file.path(getwd(), links$name[c(1, 2, 15, 16)]) purrr::map2(links$url[c(1, 2, 15, 16)], paths, curl::curl_download) #> [[1]] #> [1] \"/Users/petr/csandbox/ispv/Pra_204_mzs.xlsx\" #>  #> [[2]] #> [1] \"/Users/petr/csandbox/ispv/Str_204_mzs.xlsx\" #>  #> [[3]] #> [1] \"/Users/petr/csandbox/ispv/Pra_204_pls.xlsx\" #>  #> [[4]] #> [1] \"/Users/petr/csandbox/ispv/Str_204_pls.xlsx\"  data <- pv_load_reg(paths)  data #> # A tibble: 545 × 22 #>    kraj_id_ispv file        isco4_full fte_thous pay_median pay_d1 pay_q1 pay_q3 #>    <chr>        <chr>       <chr>          <dbl>      <dbl>  <dbl>  <dbl>  <dbl> #>  1 Pra          /Users/pet… 1120 Nejv…     1.25     147534. 39480. 66898. 3.04e5 #>  2 Pra          /Users/pet… 1211 Řídí…     2.84     100871. 44964. 68750. 1.59e5 #>  3 Pra          /Users/pet… 1212 Řídí…     0.900    100313. 45651. 64583. 1.66e5 #>  4 Pra          /Users/pet… 1219 Osta…     1.62      76178. 31050. 49090. 1.31e5 #>  5 Pra          /Users/pet… 1221 Řídí…     4.88      91330. 38618. 56198. 1.47e5 #>  6 Pra          /Users/pet… 1223 Řídí…     0.989     99731. 45760. 67100. 1.43e5 #>  7 Pra          /Users/pet… 1321 Řídí…     1.44      67123. 20246. 44127. 1.12e5 #>  8 Pra          /Users/pet… 1323 Řídí…     2.07      75469. 31909. 49077. 1.04e5 #>  9 Pra          /Users/pet… 1324 Řídí…     2.40      72326. 35602. 48826. 1.10e5 #> 10 Pra          /Users/pet… 1330 Řídí…     2.81     115329. 52052. 73825. 1.62e5 #> # … with 535 more rows, and 14 more variables: pay_d9 <dbl>, pay_mean <dbl>, #> #   bonus_perc <dbl>, supplements_perc <dbl>, compensation_perc <dbl>, #> #   hours_per_month <dbl>, sfera <chr>, period <chr>, year <chr>, #> #   isco4_id <chr>, isco4_name <chr>, kraj_id <chr>, kraj_name <chr>, #> #   kraj_id_nuts3 <chr> library(dplyr) data_select <- data |>    filter(isco4_name == \"Mzdoví účetní\") library(ggplot2) ggplot(data_select, aes(pay_mean, kraj_name, fill = sfera)) +   geom_col() +   facet_wrap(~sfera, ncol = 1) +   theme_minimal()"},{"path":"http://petrbouchal.xyz/ispv/index.html","id":"about-the-data","dir":"","previous_headings":"","what":"About the data","title":"An R package for reading Czech labour market data from https://ispv.cz","text":"data special several ways: contains pay staff counts broken ISCO-4 level region (kraj), separated “wage sphere” “salary sphere” - broadly private public sector, respectively pay broken regular pay, bonuses, compensation components probably detailed labour market data available publicly. See details official page: English Czech data available public Excel files, separately year region. package makes possible download read data bulk. public sector part data based individual-level returns provided public sector organisation. private sector part based survey. data items documented relevant data loading functions, .e. currently pv_load_reg.","code":""},{"path":"http://petrbouchal.xyz/ispv/index.html","id":"limitations-of-the-package","dir":"","previous_headings":"","what":"Limitations of the package","title":"An R package for reading Czech labour market data from https://ispv.cz","text":"source data contains multiple breakdowns types information. Currently, package supports loading pay--headcount table ISCO-4 job classification breakdown.","code":""},{"path":"http://petrbouchal.xyz/ispv/index.html","id":"credits","dir":"","previous_headings":"","what":"Credits","title":"An R package for reading Czech labour market data from https://ispv.cz","text":"data collected managed Trexima behalf Czech Ministry Labour Social Affairs. package affiliated endorsed ministry, deserve credit commissioning data collection maintenance.","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/ispv-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ispv: Use Czech labour market survey data — ispv-package","title":"ispv: Use Czech labour market survey data — ispv-package","text":"Retrieve load data Czech Information System Average Earnings (ISPV) <https://www.ispv.cz>.","code":""},{"path":[]},{"path":"http://petrbouchal.xyz/ispv/reference/ispv-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ispv: Use Czech labour market survey data — ispv-package","text":"Maintainer: Petr Bouchal pbouchal@gmail.com (ORCID)","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/kraje.html","id":null,"dir":"Reference","previous_headings":"","what":"Codelist (registry) of regions — kraje","title":"Codelist (registry) of regions — kraje","text":"Used pv_load_kraje() add proper region IDs names.","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/kraje.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Codelist (registry) of regions — kraje","text":"","code":"kraje"},{"path":"http://petrbouchal.xyz/ispv/reference/kraje.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Codelist (registry) of regions — kraje","text":"data frame 14 rows 4 variables: kraj_id_ispv character. Internal region code, appears Excel file name kraj_id character. non-NUTS ID kraj (region, NUTS3). kraj_name character. Czech name kraj (region, NUTS3). kraj_id_nuts3 character. NUTS ID kraj (region, NUTS3)..","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_list_reg.html","id":null,"dir":"Reference","previous_headings":"","what":"Get links to Excel files with regional data on ISPV website for a given year — pv_list_reg","title":"Get links to Excel files with regional data on ISPV website for a given year — pv_list_reg","text":"function scrapes relevant year's archive page links Excel files regional data returns result tibble.","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_list_reg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get links to Excel files with regional data on ISPV website for a given year — pv_list_reg","text":"","code":"pv_list_reg(year = NULL, base_url = NULL, user_agent = NULL)"},{"path":"http://petrbouchal.xyz/ispv/reference/pv_list_reg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get links to Excel files with regional data on ISPV website for a given year — pv_list_reg","text":"year Year, defaults scraping page latest available data. String numeric YYYY format length >= 1. base_url base url, defaults htps://ispv.cz user_agent User agent string, defaults package URL Github (https://github.com/petrbouchal/ispv).","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_list_reg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get links to Excel files with regional data on ISPV website for a given year — pv_list_reg","text":"tibble file name, URL year. File name can used determine time period region.","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_list_reg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get links to Excel files with regional data on ISPV website for a given year — pv_list_reg","text":"","code":"if (FALSE) { pv_list_reg(year = 2019:2020) }"},{"path":"http://petrbouchal.xyz/ispv/reference/pv_load_reg.html","id":null,"dir":"Reference","previous_headings":"","what":"Load ISPV Excel files with regional data — pv_load_reg","title":"Load ISPV Excel files with regional data — pv_load_reg","text":"Loads one local Excel files downloaded ISPV links retrieved pv_list_reg().","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_load_reg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load ISPV Excel files with regional data — pv_load_reg","text":"","code":"pv_load_reg(path)"},{"path":"http://petrbouchal.xyz/ispv/reference/pv_load_reg.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Load ISPV Excel files with regional data — pv_load_reg","text":"function returns data frame 22 variables: kraj_id_ispv character. Internal region code, appears Excel file name file character. File row read. isco4_full character. 4-digit ISCO (occupation) code Czech ISCO category name. CZSO codelist number 5708 fte_thous double. Thousand FTEs ISCO-4 category - converted FTE months paid. pay_median double. Median monthly pay. pay_d1 double. 1st decile monthly pay. pay_q1 double. 1st quartile monthly pay. pay_q3 double. 3rd quartile monthly pay. pay_d9 double. 9th decline monthly pay. pay_mean double. Mean pay. bonus_perc double. Bonuses (\"odměny\") share pay, decimal supplements_perc double. Supplements (\"příplatky\") share pay, decimal. compensation_perc double. Compensation (\"náhrady\") share pay, decimal. hours_per_month double. Monthly hours worked. sfera character. Sphere - salary (pls) wage (mzs), roughly equals public private sector period character. Time period appears file name, e.g. 204 Q4 2020. Regional data comes Q4, .e. full year. year character. Year, 4-digit character vector isco4_id character. 4-digit ISCO code. isco4_name character. Czech name 4-digit ISCO category kraj_id character. non-NUTS ID kraj (region, NUTS3). kraj_name character. Czech name kraj (region, NUTS3). kraj_id_nuts3 character. NUTS ID kraj (region, NUTS3)..","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_load_reg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load ISPV Excel files with regional data — pv_load_reg","text":"path path one Excel files (character vector length one ).","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_load_reg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load ISPV Excel files with regional data — pv_load_reg","text":"tibble, see Format details.","code":""},{"path":"http://petrbouchal.xyz/ispv/reference/pv_load_reg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load ISPV Excel files with regional data — pv_load_reg","text":"","code":"pv_load_reg(system.file(\"extdata\", \"Kar_204_pls.xlsx\", package = \"ispv\")) #> # A tibble: 52 × 22 #>    kraj_id_ispv isco4_full      fte_thous pay_median pay_d1 pay_q1 pay_q3 pay_d9 #>    <chr>        <chr>               <dbl>      <dbl>  <dbl>  <dbl>  <dbl>  <dbl> #>  1 Kar          1112 Nejvyšší …    0.0423     68663. 56052. 64480. 85739. 1.03e5 #>  2 Kar          1211 Řídící pr…    0.0419     56678. 42303. 46987. 68375. 8.59e4 #>  3 Kar          1212 Řídící pr…    0.0325     48122. 41411. 44095. 63436. 7.42e4 #>  4 Kar          1219 Ostatní ř…    0.0714     56283. 39931. 44905. 73506. 8.93e4 #>  5 Kar          1341 Řídící pr…    0.125      54150. 44734. 48678. 58765. 6.32e4 #>  6 Kar          1345 Řídící pr…    0.255      67589. 51219. 59905. 74106. 7.97e4 #>  7 Kar          1349 Řídící pr…    0.0763     64568. 48317. 57700. 70540. 8.77e4 #>  8 Kar          2221 Všeobecné…    0.134      61774. 44912. 49002. 69907. 7.55e4 #>  9 Kar          2320 Učitelé o…    0.301      43450. 37464. 39377. 48715. 5.20e4 #> 10 Kar          2330 Učitelé S…    1.09       45488. 38434. 41694. 49006. 5.21e4 #> # … with 42 more rows, and 14 more variables: pay_mean <dbl>, bonus_perc <dbl>, #> #   supplements_perc <dbl>, compensation_perc <dbl>, hours_per_month <dbl>, #> #   file <chr>, sfera <chr>, period <chr>, year <chr>, isco4_id <chr>, #> #   isco4_name <chr>, kraj_id <chr>, kraj_name <chr>, kraj_id_nuts3 <chr>"},{"path":"http://petrbouchal.xyz/ispv/news/index.html","id":"ispv-0009000","dir":"Changelog","previous_headings":"","what":"ispv 0.0.0.9000","title":"ispv 0.0.0.9000","text":"Working functions regional data","code":""}]
